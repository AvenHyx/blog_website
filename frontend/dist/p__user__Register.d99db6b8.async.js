(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[717],{10693:function(A){A.exports={main:"main___2LFl9",password:"password___3lh5N",getCaptcha:"getCaptcha___3TqEc",submit:"submit___2usjY",login:"login___ed8Ah",success:"success___hwcGl",warning:"warning___2hTnp",error:"error___13kRO","progress-pass":"progress-pass___3Wzx2",progress:"progress___31B6l"}},33514:function(A,h,s){"use strict";s.r(h);var c=s(57663),B=s(71577),v=s(43185),Z=s(98670),re=s(20136),te=s(19181),K=s(13062),P=s(71230),X=s(89032),f=s(15746),ce=s(34669),W=s(32074),Y=s(34792),L=s(48086),M=s(3182),O=s(2824),ae=s(47673),D=s(1011),ve=s(43358),J=s(39167),Q=s(9715),g=s(41003),k=s(94043),q=s.n(k),R=s(67294),r=s(43581),a=s(73727),o=s(10693),n=s.n(o),l=s(49101),u=s(41493),e=s(85893),_=g.Z.Item,p=J.Z.Option,d=D.Z.Group,C={ok:(0,e.jsx)("div",{className:n().success,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,e.jsx)("div",{className:n().warning,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,e.jsx)("div",{className:n().error,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},F={ok:"success",pass:"normal",poor:"exception"},x=function(){var S=(0,R.useState)(0),y=(0,O.Z)(S,2),ne=y[0],w=y[1],T=(0,R.useState)(!1),N=(0,O.Z)(T,2),I=N[0],b=N[1],G=(0,R.useState)("86"),U=(0,O.Z)(G,2),ee=U[0],se=U[1],z=(0,R.useState)(!1),oe=(0,O.Z)(z,2),Ee=oe[0],fe=oe[1],pe=(0,R.useState)(""),ie=(0,O.Z)(pe,2),_e=ie[0],le=ie[1],he=!1,H,me=g.Z.useForm(),Pe=(0,O.Z)(me,1),j=Pe[0];(0,R.useEffect)(function(){return function(){clearInterval(H)}},[H]);var Re=function(){var t=59;w(t),H=window.setInterval(function(){t-=1,w(t),t===0&&clearInterval(H)},1e3)},ue=function(){var t=j.getFieldValue("password");return t&&t.length>9?"ok":t&&t.length>5?"pass":"poor"},De=function(){var m=(0,M.Z)(q().mark(function t(i){var E;return q().wrap(function($){for(;;)switch($.prev=$.next){case 0:return i!=null&&i.avatar&&(i.avatar=_e),$.next=3,u.register(i);case 3:E=$.sent,E?(L.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),r.m8.push({pathname:"/user/register-result",state:{account:i.email}})):L.default.error("\u8BE5\u8D26\u53F7\u5DF2\u5B58\u5728\uFF01");case 5:case"end":return $.stop()}},t)}));return function(i){return m.apply(this,arguments)}}(),ge=function(t,i){var E=Promise;return i&&i!==j.getFieldValue("password")?E.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):E.resolve()},Me=function(t,i){var E=Promise;return i?(I||b(!!i),fe(!Ee),i.length<6?E.reject(""):(i&&he&&j.validateFields(["confirm"]),E.resolve())):(b(!!i),E.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"))},Oe=function(t){se(t)},Ce=function(){var t=j.getFieldValue("password"),i=ue();return t&&t.length?(0,e.jsx)("div",{className:n()["progress-".concat(i)],children:(0,e.jsx)(W.Z,{status:F[i],className:n().progress,strokeWidth:6,percent:t.length*10>100?100:t.length*10,showInfo:!1})}):null},Ae=function(t){if(Array.isArray(t))return t;var i=t.file,E=i.response,de=i.status;return de==="done"&&(E==null?void 0:E.businessCode)*1==1e3&&le(E.content),t&&t.fileList};return(0,e.jsxs)("div",{className:n().main,children:[(0,e.jsx)("h3",{children:"\u6CE8\u518C"}),(0,e.jsxs)(g.Z,{form:j,name:"UserRegister",onFinish:De,children:[(0,e.jsxs)(P.Z,{gutter:8,children:[(0,e.jsx)(f.Z,{span:5,children:(0,e.jsx)(_,{label:"\u7528\u6237\u540D"})}),(0,e.jsx)(f.Z,{span:19,children:(0,e.jsx)(_,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:(0,e.jsx)(D.Z,{size:"large",placeholder:"\u7528\u6237\u540D"})})})]}),(0,e.jsxs)(P.Z,{gutter:8,children:[(0,e.jsx)(f.Z,{span:5,children:(0,e.jsx)(_,{label:"\u5BC6\u7801"})}),(0,e.jsx)(f.Z,{span:19,children:(0,e.jsx)(te.Z,{getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},content:I&&(0,e.jsxs)("div",{style:{padding:"4px 0"},children:[C[ue()],Ce(),(0,e.jsx)("div",{style:{marginTop:10},children:(0,e.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",visible:I,children:(0,e.jsx)(_,{name:"password",className:j.getFieldValue("password")&&j.getFieldValue("password").length>0&&n().password,rules:[{validator:Me}],children:(0,e.jsx)(D.Z,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})})})]}),(0,e.jsxs)(P.Z,{gutter:8,children:[(0,e.jsx)(f.Z,{span:5,children:(0,e.jsx)(_,{label:"\u786E\u8BA4\u5BC6\u7801"})}),(0,e.jsx)(f.Z,{span:19,children:(0,e.jsx)(_,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:ge}],children:(0,e.jsx)(D.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})})})]}),(0,e.jsxs)(P.Z,{gutter:8,children:[(0,e.jsx)(f.Z,{span:5,children:(0,e.jsx)(_,{label:"\u90AE\u7BB1"})}),(0,e.jsx)(f.Z,{span:19,children:(0,e.jsx)(_,{name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,e.jsx)(D.Z,{size:"large",placeholder:"\u90AE\u7BB1"})})})]}),(0,e.jsxs)(P.Z,{gutter:8,children:[(0,e.jsx)(f.Z,{span:5,children:(0,e.jsx)(_,{label:"\u5934\u50CF"})}),(0,e.jsx)(f.Z,{span:19,children:(0,e.jsx)(g.Z.Item,{name:"avatar",valuePropName:"fileList",getValueFromEvent:Ae,children:(0,e.jsx)(Z.Z,{onRemove:function(){le("")},showUploadList:{showPreviewIcon:!1,showDownloadIcon:!1},name:"file",action:"/api/upload/avatar",listType:"picture-card",children:_e?"":(0,e.jsx)(l.Z,{})})})})]}),(0,e.jsxs)(d,{compact:!0,children:[(0,e.jsxs)(J.Z,{size:"large",value:ee,onChange:Oe,style:{width:"20%"},children:[(0,e.jsx)(p,{value:"86",children:"+86"}),(0,e.jsx)(p,{value:"87",children:"+87"})]}),(0,e.jsx)(_,{style:{width:"80%"},name:"phone",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,e.jsx)(D.Z,{size:"large",placeholder:"\u624B\u673A\u53F7"})})]}),(0,e.jsxs)(_,{children:[(0,e.jsx)(B.Z,{size:"large",className:n().submit,type:"primary",htmlType:"submit",children:(0,e.jsx)("span",{children:"\u6CE8\u518C"})}),(0,e.jsx)(a.rU,{className:n().login,to:"/user/login",children:(0,e.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})]})]})};h.default=x},15746:function(A,h,s){"use strict";var c=s(21584);h.Z=c.Z},89032:function(A,h,s){"use strict";var c=s(38663),B=s.n(c),v=s(6999)},71230:function(A,h,s){"use strict";var c=s(92820);h.Z=c.Z},13062:function(A,h,s){"use strict";var c=s(38663),B=s.n(c),v=s(6999)},73727:function(A,h,s){"use strict";s.d(h,{rU:function(){return D}});var c=s(19630),B=s(41788),v=s(67294),Z=s(97175),re=s(45697),te=s.n(re),K=s(22122),P=s(19756),X=s(2177),f=function(r){(0,B.Z)(a,r);function a(){for(var n,l=arguments.length,u=new Array(l),e=0;e<l;e++)u[e]=arguments[e];return n=r.call.apply(r,[this].concat(u))||this,n.history=(0,Z.lX)(n.props),n}var o=a.prototype;return o.render=function(){return v.createElement(c.F0,{history:this.history,children:this.props.children})},a}(v.Component),ce=function(r){(0,B.Z)(a,r);function a(){for(var n,l=arguments.length,u=new Array(l),e=0;e<l;e++)u[e]=arguments[e];return n=r.call.apply(r,[this].concat(u))||this,n.history=(0,Z.q_)(n.props),n}var o=a.prototype;return o.render=function(){return v.createElement(c.F0,{history:this.history,children:this.props.children})},a}(v.Component),W=function(a,o){return typeof a=="function"?a(o):a},Y=function(a,o){return typeof a=="string"?(0,Z.ob)(a,null,null,o):a},L=function(a){return a},M=v.forwardRef;typeof M=="undefined"&&(M=L);function O(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}var ae=M(function(r,a){var o=r.innerRef,n=r.navigate,l=r.onClick,u=(0,P.Z)(r,["innerRef","navigate","onClick"]),e=u.target,_=(0,K.Z)({},u,{onClick:function(d){try{l&&l(d)}catch(C){throw d.preventDefault(),C}!d.defaultPrevented&&d.button===0&&(!e||e==="_self")&&!O(d)&&(d.preventDefault(),n())}});return L!==M?_.ref=a||o:_.ref=o,v.createElement("a",_)}),D=M(function(r,a){var o=r.component,n=o===void 0?ae:o,l=r.replace,u=r.to,e=r.innerRef,_=(0,P.Z)(r,["component","replace","to","innerRef"]);return v.createElement(c.s6.Consumer,null,function(p){p||(0,X.Z)(!1);var d=p.history,C=Y(W(u,p.location),p.location),F=C?d.createHref(C):"",x=(0,K.Z)({},_,{href:F,navigate:function(){var S=W(u,p.location),y=l?d.replace:d.push;y(S)}});return L!==M?x.ref=a||e:x.innerRef=e,v.createElement(n,x)})});if(!1)var ve,J;var Q=function(a){return a},g=v.forwardRef;typeof g=="undefined"&&(g=Q);function k(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.filter(function(n){return n}).join(" ")}var q=g(function(r,a){var o=r["aria-current"],n=o===void 0?"page":o,l=r.activeClassName,u=l===void 0?"active":l,e=r.activeStyle,_=r.className,p=r.exact,d=r.isActive,C=r.location,F=r.sensitive,x=r.strict,V=r.style,S=r.to,y=r.innerRef,ne=(0,P.Z)(r,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return v.createElement(c.s6.Consumer,null,function(w){w||(0,X.Z)(!1);var T=C||w.location,N=Y(W(S,T),T),I=N.pathname,b=I&&I.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),G=b?(0,c.LX)(T.pathname,{path:b,exact:p,sensitive:F,strict:x}):null,U=!!(d?d(G,T):G),ee=U?k(_,u):_,se=U?(0,K.Z)({},V,{},e):V,z=(0,K.Z)({"aria-current":U&&n||null,className:ee,style:se,to:N},ne);return Q!==g?z.ref=a||y:z.innerRef=y,v.createElement(D,z)})});if(!1)var R}}]);
